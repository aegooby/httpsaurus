"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[3],{7409:function(e,n,t){t.r(n),t.d(n,{frontMatter:function(){return i},contentTitle:function(){return c},metadata:function(){return l},toc:function(){return u},default:function(){return v}});var r=t(7462),s=t(3366),o=(t(7294),t(3905)),a=["components"],i={id:"web-server",title:"Web server"},c=void 0,l={unversionedId:"server/web-server",id:"server/web-server",isDocsHomePage:!1,title:"Web server",description:"Creating a server is done using the Server.create() function and passing it a",source:"@site/docs/server/web-server.md",sourceDirName:"server",slug:"/server/web-server",permalink:"/turtle/docs/server/web-server",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/server/web-server.md",version:"current",frontMatter:{id:"web-server",title:"Web server"},sidebar:"sidebar",previous:{title:"Authentication",permalink:"/turtle/docs/server/authentication"},next:{title:"Redis",permalink:"/turtle/docs/server/redis"}},u=[],d={toc:u};function v(e){var n=e.components,t=(0,s.Z)(e,a);return(0,o.kt)("wrapper",(0,r.Z)({},d,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"Creating a server is done using the ",(0,o.kt)("inlineCode",{parentName:"p"},"Server.create()")," function and passing it a\nset of attributes,"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"export interface ServerAttributes {\n  /** Whether the server runs on HTTPS or HTTP. */\n  secure: boolean;\n  /** Outside-facing domain the server listens from. */\n  domain: string | undefined;\n  /** Local IP address the server listens on. */\n  hostname: string;\n  /** Port the server listens on for HTTP connections. */\n  port: number;\n  /** Pre-mapped REST routes. */\n  routes: Record<string, string>;\n\n  /** Port the server listens on for HTTPS connections. */\n  portTls: number | undefined;\n  /** Path to folder containing TLS certificates. */\n  cert: string | undefined;\n\n  /** React elements included in document head on SSR. */\n  headElements: Array<React.ReactElement>;\n\n  /** Enable React and Relay devtools (Electron). */\n  devtools: boolean;\n  /** Enable Redis database. */\n  redis: boolean;\n\n  /** Path to GraphQL schema. */\n  schema: string;\n  /** GraphQL resolvers object. */\n  resolvers: unknown;\n}\n")),(0,o.kt)("p",null,"For example,"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},'// in server/daemon.tsx\n\n// ...\nconst serverAttributes: ServerAttributes = {\n  secure: true,\n  domain: args.domain,\n  routes: {},\n  hostname: args.hostname,\n  port: 3080,\n\n  portTls: 3443,\n  cert: "cert/localhost/",\n\n  headElements: [<title>turtle</title>],\n\n  devtools: false,\n  redis: true,\n\n  schema: "graphql/schema.gql",\n  resolvers: Resolvers.create(),\n};\n\n// ...\n\nconst httpserver = await Server.create<UserJwt>(serverAttributes);\nawait httpserver.serve();\n')),(0,o.kt)("p",null,"This is handled by the CLI, so there's usually no need to do it manually, except\nmaybe editing some of the attributes."))}v.isMDXComponent=!0}}]);